\documentclass[runningheads,a4paper]{llncs}

\input{packages}
\input{macros_util}
\input{macros}

\FXRegisterAuthor{eM}{aeM}{\color{orange} {\underline{eM}}}
%
% co-authors: please define your own macro for metacomments as the one
% above

\begin{document}

\mainmatter  % start of an individual contribution

% first the title is needed
\title{
  \iffinal
  Data-driven choreographies \`a la Klaim
  \else
  \fcolorbox{black!15}{yellow!20}{Data-driven choreographies \`a la Klaim}
  \fi
}

% a short form should be given in case it is too long for the running head

% the name(s) of the author(s) follow(s) next
%
% NB: Chinese authors should write their first names(s) in front of
% their surnames. This ensures that the names appear correctly in
% the running heads and the author index.
%

\author{
  Roberto Bruni \inst{1} \and
  Andrea Corradini \inst{1} \and
  Fabio Gadducci \inst{1} \and
  Hern\'an Melgratti \inst{2} \and
  \\
  Ugo Montanari \inst{1} \and
  Emilio Tuosto\inst{3}
}
\institute{
  Universit\`a di Pisa, Italy
  \and
  Departamento de Computaci\'on, FCEyN, Universidad de Buenos Aires - Conicet, Argentina
  \and
  University of Leicester, UK
}

\iffinal
\authorrunning{R. Bruni, A. Corradini, F. Gadducci, H. Melgratti, U. Montanari, E. Tuosto}
\else
\authorrunning{\fcolorbox{black!15}{yellow!20}{Check list of fixmes}}
\fi

\maketitle

\begin{abstract}
  % Klaim is one of the many contributions of Rocco.
  % %
  % It mixes together many flavours and borders many research areas.
  % %
  % One can appreciate Klaim as a basic calculus alternative to other
  % name passing calculi such as the pi, join, or ambient.
  % %
  % Or one can see Klaim as a coordination model bringing the generative
  % mechanisms of Linda in the distributed setting.
  % %
  % Or else one can envisage Klaim as a programming paradigm.
  % 
  We propose Klaim as a suitable base for a novel choreographic
  framework.
  %
  More precisely we advocate Klaim as a suitable language onto which
  to project \emph{data-driven} global specifications based on
  distributed tuple spaces.
  %
  These specifications, akin behavioural types, describe the coordination
  from a global point of view.
  %
  Differently from behavioural types though, our specifications
  express the data flow across distributed tuple spaces rather than
  detailing the communication pattern of processes.
  %
  We devise a typing system to validate Klaim programs against projections
  of our global specifications.
  %
  An interesting feature of our typing approach is that well-typed
  systems have an arbitrary number of participants.
  %
  In standard approaches based on behavioural types, this is often
  achieved at the cost of considerable technical complications.
\end{abstract}



\section{Introduction}
\label{sec:intro}
\input{intro}

\section{Klaimographies}
\label{sec:klaimographies}
Our type system hinges on the basic notions of Klaim which are based
on tuples, localities, and operations to generate and access tuple
spaces.
%
We recall that Klaim features two kinds of accesses to tuples located
on a tuple space dubbed \emph{input} and \emph{read} access and often
denoted as $\textsf{in}\ t \at \aloc$ and
$\textsf{read}\ t \at \aloc$ in Klaim's literature.
%
An input access $\textsf{in}\ t \at \aloc$ instantiates the
variables in $t$ corresponding to the fields in the matching
tuple at locality $\aloc$ and then removes such tuple from $\aloc$, while
a read access $\textsf{read}\ t \at \aloc$ does not remove the
tuple from $\aloc$ after instantiating the variables in $t$.
%
\cref{sec:tuples} introduces \emph{tuple types} which basically
abstract away from values in Klaim's tuples.
%
\cref{sec:gt} introduces \emph{global types} meant to specify
Klaim systems from a global point of view that, using \emph{roles},
abstracts away from the actual instances of processes executing a
protocol.
%
Clearly, the form of interactions featured in the global types are
inspired by Klaim operations.\footnote{Klaim allows code mobility, which for
  simplicity we disregard here. See the discussion in \cref{sec:conc}}
%
\cref{sec:examples} gives a taste of the expressiveness of our global
types.
\subsection{Tuple types}
\label{sec:tuples}
\input{tuples}
\subsection{Global types}
\label{sec:gt}
\input{gt}
\subsection{Some examples}
\label{sec:examples}
\input{examples}
%\input{klaimographies}

\section{Semantics}
We equip global types with a semantics based on pomsets,
define projections from global to local types (that is abstractions of
Klaim processes enacting the roles of global types), and give an
operational semantics of local types.
\subsection{Pomsets for klaimographies}
\label{sec:globsem}
\input{globalsemantics}
\subsection{Local types}
\label{sec:locsem}
\input{localsemantics}

\section{Semantic Correspondence}
\label{sec:corr}
\input{correspondence}

\section{Conclusions}
\label{sec:disc}\label{sec:conc}
\input{conclusions}

\bibliographystyle{abbrv}
\bibliography{biblio}

\iffinal
\else
 \newpage
 \setcounter{tocdepth}{2}
 \listoffixmes
\fi

\end{document}
