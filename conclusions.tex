% !TEX root =  main.tex


This paper, a modest attempt to thank Rocco for his work and
friendship, addresses the following question:
%
\begin{quote}
  What notion of behavioural types corresponds to Linda-based
  coordination mechanisms?
\end{quote}
%
To answer such question we advocate Klaim-based global and local
types, dubbed klaimographies.
%
Klaim has been designed to program distributed systems consisting of
processes interacting via multiple distributed tuple spaces.

For simplicity, we have neglected code mobility, a distinctive feature
of Klaim.
%
Accommodating the mobility mechanism of Klaim would require to control
the multiplicity of running instances and to generalise the
well-formedness conditions to dynamically spawned processes.
%
A further challenge, would be to include mobility of
processes-as-values featured by Klaim, which shares many
similarities with session delegation.
%
However, this can be associated to control-driven problems.
%
These challenges are scope for future work.

We have also not considered parallel types.
%
A simple way to compose klaimographies in parallel would be to follow standard
approaches restricting roles on single threads and disjoint tuple
spaces.
%
We consider this not very interesting, and plan to explore more expressive
settings for parallel types such as the one in~\cite{gt16,gt17}.
%
In particular, we conjecture that to add parallel composition
$\aK \mid \aK'$ of klaimographies it is enough to require that
$\neg(\atuple \matches \atuple')$ for all
$(\atuple, \aloc) \in \aK, (\atuple', \aloc) \in \aK'$.
%
This condition is the counterpart of the \emph{well-forkedness}
condition of~\cite{gt16,gt17}, that requires that different threads of
a choregraphy have disjoing input actions.

Klaim has been extended with several features designed on theoretical
foundations and implemented in a suite of
prototypes~\cite{klaim}.
%
On the one hand, klaimographies share similarities with standard
behavioural types centred on point-to-point channel based
communications, on the other hand they also have some peculiarities,
some of which we highlighted here.

The closest work to our is~\cite{chjny19}, which develops the initial
proposal on parameterised choreographies in~\cite{ydbh10,dybh12}.
%
Notably,~\cite{chjny19} is the first work to support indexed roles and
to statically infer the participants inhabiting them.
%
The main difference with the approach in~\cite{chjny19} is that
klaimographies do not focus on processes, but rather on data.
%
We envisage behavioural types as specifications of how to guarantee
general properties of tuple spaces.
%
For instance, take the marketplace example (cf. \cref{ex:market}),
one would like to check properties such as
\begin{quote}
  for each tuple type
  $\atuple = {{i : \asort[str]} \cdot {p : \asort[int]} \cdot {\nu l :
      \asort[loc]}}$ consumed from locality $\aloc[m]$ either a tuple type
  $\asort[sold]$ is eventually generated at locality $l$ or $\atuple$
  is eventually generated at $\aloc[m]$.
\end{quote}
%
Such property does not concern typical properties
controlled by behavioural types (e.g., progress of processes, message
orphanage, or unspecified reception).

As scope for future work, we aim to characterise the (classes of)
properties of interest that klaimographies enforce.
%
We conjecture that the well-formedness conditions defined here
are strong enough to guarantee the property above.
%
Another interesting line of research is to identify typing principles
for Klaim processes.
%
We believe that klaimographies can enable the possibility that a same
process enacts different roles.
%
For instance, considering again the marketplace example, a process
can act both as seller and as buyer.

We have adopted a few simplifying assumptions.
%
Other variants seem rather interesting.
%
For instance, guards of sums could be autonomous inputs and not just
consuming interactions, or even read-only access prefixes.
%
Relaxing the constraint that read-only tuples cannot generate, would
lead to a sort of multi-cast mechanism of fresh localities.
%
We plan to study those variants in future work.


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
